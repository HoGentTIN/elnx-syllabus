<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="author" content="Enterprise Linux">
  <title>Basic commands for EL7</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="reveal.js/css/reveal.css">
  <style type="text/css">
      code{white-space: pre-wrap;}
      span.smallcaps{font-variant: small-caps;}
      span.underline{text-decoration: underline;}
      div.column{display: inline-block; vertical-align: top; width: 50%;}
  </style>
  <style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; } /* Alert */
code span.an { color: #008000; } /* Annotation */
code span.at { } /* Attribute */
code span.bu { } /* BuiltIn */
code span.cf { color: #0000ff; } /* ControlFlow */
code span.ch { color: #008080; } /* Char */
code span.cn { } /* Constant */
code span.co { color: #008000; } /* Comment */
code span.cv { color: #008000; } /* CommentVar */
code span.do { color: #008000; } /* Documentation */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.im { } /* Import */
code span.in { color: #008000; } /* Information */
code span.kw { color: #0000ff; } /* Keyword */
code span.op { } /* Operator */
code span.ot { color: #ff4000; } /* Other */
code span.pp { color: #ff4000; } /* Preprocessor */
code span.sc { color: #008080; } /* SpecialChar */
code span.ss { color: #008080; } /* SpecialString */
code span.st { color: #008080; } /* String */
code span.va { } /* Variable */
code span.vs { color: #008080; } /* VerbatimString */
code span.wa { color: #008000; font-weight: bold; } /* Warning */
  </style>
  <link rel="stylesheet" href="reveal.js/css/theme/hogent.css" id="theme">
  <!-- Printing and PDF exports -->
  <script>
    var link = document.createElement( 'link' );
    link.rel = 'stylesheet';
    link.type = 'text/css';
    link.href = window.location.search.match( /print-pdf/gi ) ? 'reveal.js/css/print/pdf.css' : 'reveal.js/css/print/paper.css';
    document.getElementsByTagName( 'head' )[0].appendChild( link );
  </script>
  <!--[if lt IE 9]>
  <script src="reveal.js/lib/js/html5shiv.js"></script>
  <![endif]-->
</head>
<body>
  <div class="reveal">
    <div class="slides">

<section id="title-slide">
  <h1 class="title">Basic commands for EL7</h1>
  <p class="author">Enterprise Linux</p>
  <p class="date">HOGENT applied computer science</p>
</section>

<section><section id="intro" class="title-slide slide level1"><h1>Intro</h1></section><section id="agenda" class="slide level2">
<h2>Agenda</h2>
<ul>
<li>Network settings (<code>ip</code>)</li>
<li>Managing services (<code>systemctl</code>)</li>
<li>Show system logs (<code>journalctl</code>)</li>
<li>Show sockets (<code>ss</code>)</li>
<li>Firewall configuration (<code>firewalld</code>)</li>
</ul>
<p><strong>Interrupt me if you have remarks/questions!</strong></p>
</section><section id="remarks" class="slide level2">
<h2>Remarks</h2>
<ul>
<li>We assume you have basic knowledge about Linux
<ul>
<li>Filesystem layout; users &amp; permissions; commands; etc.</li>
</ul></li>
<li>SysVInit -&gt; systemd
<ul>
<li>“Old” commands are not mentioned</li>
<li><a href="https://fedoraproject.org/wiki/SysVinit_to_Systemd_Cheatsheet" class="uri">https://fedoraproject.org/wiki/SysVinit_to_Systemd_Cheatsheet</a></li>
</ul></li>
</ul>
</section><section id="demo-environment" class="slide level2">
<h2>Demo environment</h2>
<p>Code: see <a href="https://github.com/HoGentTIN/elnx-syllabus/" class="uri">https://github.com/HoGentTIN/elnx-syllabus/</a></p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Host</th>
<th style="text-align: left;">IP</th>
<th style="text-align: left;">Service</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>web</code></td>
<td style="text-align: left;">192.168.56.72</td>
<td style="text-align: left;">webserver (Apache)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>db</code></td>
<td style="text-align: left;">192.168.56.73</td>
<td style="text-align: left;">MariaDB database</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>ns1</code></td>
<td style="text-align: left;">192.168.56.10</td>
<td style="text-align: left;">DNS server (BIND)</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>ns2</code></td>
<td style="text-align: left;">192.168.56.11</td>
<td style="text-align: left;">DNS server</td>
</tr>
</tbody>
</table>
<p><strong>For now, only start <code>db</code></strong></p>
<pre class="console"><code>$ vagrant up db</code></pre>
</section><section class="slide level2">

<pre class="console"><code>$ git clone https://github.com/HoGentTIN/elnx-syllabus/
$ cd elnx-syllabus/demo/
$ vagrant status
Current machine states:

db                        not created (virtualbox)
web                       not created (virtualbox)
ns1                       not created (virtualbox)
ns2                       not created (virtualbox)

This environment represents multiple VMs. The VMs are all listed
above with their current state. For more information about a specific
VM, run `vagrant status NAME`.
$ vagrant up db
[...]
$ vagrant ssh db</code></pre>
</section></section>
<section><section id="network-settings" class="title-slide slide level1"><h1>Network settings</h1></section><section id="ip" class="slide level2">
<h2><code>ip</code></h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Task</th>
<th style="text-align: left;">Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">NIC status</td>
<td style="text-align: left;"><code>ip link</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">IP addresses</td>
<td style="text-align: left;"><code>ip address</code>, <code>ip a</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">for specific device</td>
<td style="text-align: left;"><code>ip a show dev em1</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Routing info</td>
<td style="text-align: left;"><code>ip route</code>, <code>ip r</code></td>
</tr>
</tbody>
</table>
<p>Try option <code>--color</code>!</p>
</section><section id="example" class="slide level2">
<h2>Example</h2>
<pre><code>$ ip l
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 08:00:27:54:3d:f0 brd ff:ff:ff:ff:ff:ff
3: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP mode DEFAULT group default qlen 1000
    link/ether 08:00:27:f3:ff:26 brd ff:ff:ff:ff:ff:ff</code></pre>
</section><section class="slide level2">

<pre><code>$ ip a
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00
    inet 127.0.0.1/8 scope host lo
       valid_lft forever preferred_lft forever
    inet6 ::1/128 scope host 
       valid_lft forever preferred_lft forever
2: enp0s3: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    link/ether 08:00:27:54:3d:f0 brd ff:ff:ff:ff:ff:ff
    inet 10.0.2.15/24 brd 10.0.2.255 scope global noprefixroute dynamic enp0s3
       valid_lft 86285sec preferred_lft 86285sec
    inet6 fe80::bb30:a03:db03:2918/64 scope link noprefixroute 
       valid_lft forever preferred_lft forever
3: enp0s8: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000
    link/ether 08:00:27:f3:ff:26 brd ff:ff:ff:ff:ff:ff
    inet 192.168.56.73/24 brd 192.168.56.255 scope global noprefixroute enp0s8
       valid_lft forever preferred_lft forever
    inet6 fe80::a00:27ff:fef3:ff26/64 scope link 
       valid_lft forever preferred_lft forever</code></pre>
</section><section id="the-new-interface-names" class="slide level2">
<h2>The new interface names</h2>
<p><a href="https://www.freedesktop.org/wiki/Software/systemd/PredictableNetworkInterfaceNames/">Predictable Network Interface Names</a>, since Systemd v197</p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Example</th>
<th style="text-align: left;">Type</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><code>em1</code></td>
<td style="text-align: left;">EMbedded #</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>eno1</code></td>
<td style="text-align: left;">EtherNet Onboard adapter #</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>p1p1</code></td>
<td style="text-align: left;">PCI slot # Port #</td>
</tr>
<tr class="even">
<td style="text-align: left;"><code>enp0s3</code></td>
<td style="text-align: left;">Ethernet Network Peripheral # serial #</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><code>wlp3s0b1</code></td>
<td style="text-align: left;">Wireless PCI bus # slot #</td>
</tr>
</tbody>
</table>
<p>Also, see (Hayden, 2015)</p>
</section><section id="configuration" class="slide level2">
<h2>Configuration</h2>
<ul>
<li>Config files: <code>/etc/sysconfig/network-scripts/ifcfg-*</code></li>
<li>After change, restart <code>network.service</code> (see below)</li>
</ul>
</section><section class="slide level2">

<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="co"># /etc/sysconfig/network-scripts/ifcfg-enp0s3</span></a>
<a class="sourceLine" id="cb5-2" data-line-number="2"><span class="va">DEVICE=</span>enp0s3</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="va">ONBOOT=</span>yes</a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="va">BOOTPROTO=</span>dhcp</a></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="co"># /etc/sysconfig/network-scripts/ifcfg-enp0s8</span></a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="va">DEVICE=</span>enp0s8</a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="va">ONBOOT=</span>yes</a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="va">BOOTPROTO=</span>none</a>
<a class="sourceLine" id="cb6-5" data-line-number="5"><span class="va">IPADDR=</span>192.168.56.73</a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="va">NETMASK=</span>255.255.255.0</a></code></pre></div>
</section></section>
<section><section id="managing-services-with-systemctl" class="title-slide slide level1"><h1>Managing services with <code>systemctl</code></h1></section><section id="systemctl" class="slide level2">
<h2><code>systemctl</code></h2>
<p><code>systemctl COMMAND [OPTION]... NAME</code></p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Task</th>
<th style="text-align: left;">Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Status service</td>
<td style="text-align: left;"><code>systemctl status NAME</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Start service</td>
<td style="text-align: left;"><code>systemctl start NAME</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Stop service</td>
<td style="text-align: left;"><code>systemctl stop NAME</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Restart service</td>
<td style="text-align: left;"><code>systemctl restart NAME</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Start at boot</td>
<td style="text-align: left;"><code>systemctl enable NAME</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Don’t start at boot</td>
<td style="text-align: left;"><code>systemctl disable NAME</code></td>
</tr>
</tbody>
</table>
<p>Usually, <em>root permissions</em> required (<code>sudo</code>)</p>
</section><section class="slide level2">

<p>Default command: <code>list-units</code></p>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Task</th>
<th style="text-align: left;">Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">List all services</td>
<td style="text-align: left;"><code>systemctl --type=service</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Running services</td>
<td style="text-align: left;"><code>systemctl --state=running</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Failed services</td>
<td style="text-align: left;"><code>systemctl --failed</code></td>
</tr>
</tbody>
</table>
</section></section>
<section><section id="show-open-socketsports" class="title-slide slide level1"><h1>Show open sockets/ports</h1></section><section id="show-sockets-ss" class="slide level2">
<h2>Show sockets: <code>ss</code></h2>
<ul>
<li><code>netstat</code> is obsolete, replaced by <code>ss</code>
<ul>
<li><code>netstat</code> uses <code>/proc/net/tcp</code></li>
<li><code>ss</code> directly queries the kernel</li>
</ul></li>
<li>Similar options</li>
</ul>
</section><section id="options" class="slide level2">
<h2>Options</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Task</th>
<th style="text-align: left;">Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Show server sockets</td>
<td style="text-align: left;"><code>ss -l</code>, <code>--listening</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Show TCP sockets</td>
<td style="text-align: left;"><code>ss -t</code>, <code>--tcp</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Show UDP sockets</td>
<td style="text-align: left;"><code>ss -u</code>, <code>--udp</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Show port numbers(*)</td>
<td style="text-align: left;"><code>ss -n</code>, <code>--numeric</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Show process(†)</td>
<td style="text-align: left;"><code>ss -p</code>, <code>--processes</code></td>
</tr>
</tbody>
</table>
<p>(*) instead of service names from <code>/etc/services</code></p>
<p>(†) <em>root permissions</em> required</p>
</section><section id="example-1" class="slide level2">
<h2>Example</h2>
<pre><code>$ sudo ss -tlnp
State   Recv-Q Send-Q Local Address:Port Peer Address:Port
LISTEN  0      128                *:22              *:*    users:((&quot;sshd&quot;,pid=1290,fd=3))
LISTEN  0      100        127.0.0.1:25              *:*    users:((&quot;master&quot;,pid=1685,fd=13))
LISTEN  0      128               :::80             :::*    users:((&quot;httpd&quot;,pid=4403,fd=4),(&quot;httpd&quot;,pid=4402,fd=4),(&quot;httpd&quot;,pid=4401,fd=4),(&quot;httpd&quot;,pid=4400,fd=4),(&quot;httpd&quot;,pid=4399,fd=4),(&quot;httpd&quot;,pid=4397,fd=4))
LISTEN  0      128               :::22             :::*    users:((&quot;sshd&quot;,pid=1290,fd=4))
LISTEN  0      100              ::1:25             :::*    users:((&quot;master&quot;,pid=1685,fd=14))
LISTEN  0      128               :::443            :::*    users:((&quot;httpd&quot;,pid=4403,fd=6),(&quot;httpd&quot;,pid=4402,fd=6),(&quot;httpd&quot;,pid=4401,fd=6),(&quot;httpd&quot;,pid=4400,fd=6),(&quot;httpd&quot;,pid=4399,fd=6),(&quot;httpd&quot;,pid=4397,fd=6))</code></pre>
</section></section>
<section><section id="system-logs-with-systemd-journald" class="title-slide slide level1"><h1>System logs with <code>systemd-journald</code></h1></section><section id="journalctl" class="slide level2">
<h2><code>journalctl</code></h2>
<ul>
<li><code>journalctl</code> requires <em>root permissions</em>
<ul>
<li>Or, add user to group <code>adm</code> or <code>systemd-journal</code></li>
</ul></li>
<li>Some “traditional” text-based log files still exist (for now?):
<ul>
<li><code>/var/log/messages</code> (gone in Fedora!)</li>
<li><code>/var/log/httpd/access_log</code> and <code>error_log</code></li>
<li>…</li>
</ul></li>
</ul>
</section><section id="options-1" class="slide level2">
<h2>Options</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Action</th>
<th style="text-align: left;">Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Show latest log and wait for changes</td>
<td style="text-align: left;"><code>journalctl -f</code>, <code>--follow</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Show only log of SERVICE</td>
<td style="text-align: left;"><code>journalctl -u SERVICE</code>, <code>--unit=SERVICE</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Match executable, e.g. <code>dhclient</code></td>
<td style="text-align: left;"><code>journalctl /usr/sbin/dhclient</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Match device node, e.g. <code>/dev/sda</code></td>
<td style="text-align: left;"><code>journalctl /dev/sda</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Show auditd logs</td>
<td style="text-align: left;"><code>journalctl _TRANSPORT=audit</code></td>
</tr>
</tbody>
</table>
</section><section class="slide level2">

<table>
<thead>
<tr class="header">
<th style="text-align: left;">Action</th>
<th style="text-align: left;">Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Show log since last boot</td>
<td style="text-align: left;"><code>journalctl -b</code>, <code>--boot</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Kernel messages (like <code>dmesg</code>)</td>
<td style="text-align: left;"><code>journalctl -k</code>, <code>--dmesg</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Reverse output (newest first)</td>
<td style="text-align: left;"><code>journalctl -r</code>, <code>--reverse</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Show only errors and worse</td>
<td style="text-align: left;"><code>journalctl -p err</code>, <code>--priority=err</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Since yesterday</td>
<td style="text-align: left;"><code>journalctl --since=yesterday</code></td>
</tr>
</tbody>
</table>
</section><section class="slide level2">

<p>Filter on time (example):</p>
<pre><code>journalctl --since=2018-06-00 \
           --until=&quot;2018-06-07 12:00:00&quot;</code></pre>
<p>Much more options in the man-page!</p>
</section></section>
<section><section id="firewall-configuration-with-firewalld" class="title-slide slide level1"><h1>Firewall configuration with <code>firewalld</code></h1></section><section id="static-vs-dynamic-firewall-model" class="slide level2">
<h2>Static vs dynamic firewall model</h2>
<ul>
<li><em>ip(6)tables</em> service: static
<ul>
<li>change =&gt; rule flush + daemon restart</li>
<li>broke stateful firewalling, established connections</li>
</ul></li>
<li><em>firewalld</em>: dynamic
<ul>
<li>changes applied directly, no lost connections</li>
</ul></li>
<li>Both use iptables/netfilter in the background!</li>
<li>Tools that depend on “old” model may cause problems
<ul>
<li>e.g. <code>docker-compose</code> (Issue <a href="https://github.com/docker/compose/issues/2841">#2841</a>)</li>
</ul></li>
</ul>
</section><section id="zones" class="slide level2">
<h2>Zones</h2>
<ul>
<li>Zone = list of rules to be applied in a specific situation
<ul>
<li>e.g. public (default), home, work, …</li>
</ul></li>
<li>NICs are assigned to zones</li>
<li>For a server, <code>public</code> zone is probably sufficient</li>
</ul>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Task</th>
<th style="text-align: left;">Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">List all zones</td>
<td style="text-align: left;"><code>firewall-cmd --get-zones</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Current active zone</td>
<td style="text-align: left;"><code>firewall-cmd --get-active-zones</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Add interface to active zone</td>
<td style="text-align: left;"><code>firewall-cmd --add-interface=IFACE</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Show current rules</td>
<td style="text-align: left;"><code>firewall-cmd --list-all</code></td>
</tr>
</tbody>
</table>
<p><code>firewall-cmd</code> requires <em>root permissions</em></p>
</section><section id="configuring-firewall-rules" class="slide level2">
<h2>Configuring firewall rules</h2>
<table>
<thead>
<tr class="header">
<th style="text-align: left;">Task</th>
<th style="text-align: left;">Command</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">Allow predefined service</td>
<td style="text-align: left;"><code>firewall-cmd --add-service=http</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">List predefined services</td>
<td style="text-align: left;"><code>firewall-cmd --get-services</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Allow specific port</td>
<td style="text-align: left;"><code>firewall-cmd --add-port=8080/tcp</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Reload rules</td>
<td style="text-align: left;"><code>firewall-cmd --reload</code></td>
</tr>
<tr class="odd">
<td style="text-align: left;">Block all traffic</td>
<td style="text-align: left;"><code>firewall-cmd --panic-on</code></td>
</tr>
<tr class="even">
<td style="text-align: left;">Turn panic mode off</td>
<td style="text-align: left;"><code>firewall-cmd --panic-off</code></td>
</tr>
</tbody>
</table>
</section><section id="persistent-changes" class="slide level2">
<h2>Persistent changes</h2>
<ul>
<li><code>--permanent</code> option =&gt; not applied immediately!</li>
<li>Two methods:
<ol type="1">
<li>Execute command once without, once with <code>--permanent</code></li>
<li>Execute command with <code>--permanent</code>, reload rules</li>
</ol></li>
<li>First method is faster</li>
</ul>
<pre class="shellsession"><code>sudo firewall-cmd --add-service=http
sudo firewall-cmd --add-service=http --permanent
sudo firewall-cmd --add-service=https
sudo firewall-cmd --add-service=https --permanent</code></pre>
</section></section>
<section><section id="thats-it" class="title-slide slide level1"><h1>That’s it!</h1></section></section>
<section><section id="references" class="title-slide slide level1"><h1>References</h1></section><section id="references-1" class="slide level2">
<h2>References</h2>
<ul>
<li>Hayden, M. (2015) <a href="https://major.io/2015/08/21/understanding-systemds-predictable-network-device-names/">Understanding systemd’s predictable network device names</a></li>
<li>Jahoda, M., et al. (2016a) <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/Security_Guide/index.html">RHEL 7 Security Guide</a></li>
<li>Jahoda, M., et al. (2016b) <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/SELinux_Users_and_Administrators_Guide/index.html">RHEL 7 SELinux User’s and Administrator’s Guide</a></li>
<li>Svistunov, M., et al. (2016) <a href="https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/7/html/System_Administrators_Guide/index.html">RHEL 7 System Administrator’s Guide</a></li>
<li>Van Vreckem, B. (2015) <a href="https://github.com/bertvv/cheat-sheets/blob/master/src/EL7.md">Enterprise Linux 7 Cheat sheet</a></li>
<li>Van Vreckem, B. (2017) <a href="https://github.com/bertvv/cheat-sheets/blob/master/src/NetworkTroubleshooting.md">Network troubleshooting guide</a></li>
</ul>
</section></section>
    </div>
  </div>

  <script src="reveal.js/lib/js/head.min.js"></script>
  <script src="reveal.js/js/reveal.js"></script>

  <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        // Push each slide change to the browser history
        history: true,

        // Optional reveal.js plugins
        dependencies: [
          { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true },
          { src: 'reveal.js/plugin/notes/notes.js', async: true }
        ]
      });
    </script>
    </body>
</html>
